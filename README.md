# بوت تيليجرام الذكي المتقدم

بوت تيليجرام ذكي متقدم يستخدم Gemini API كمحرك الذكاء الاصطناعي الوحيد، مع نظام وكلاء متكامل لإدارة المهام المعقدة.

## 🚀 المميزات

### 🤖 الذكاء الاصطناعي
- **Gemini API**: المحرك الوحيد للذكاء الاصطناعي
- **معالجة ذكية**: تحليل عميق للطلبات والملفات
- **ردود ذكية**: توليد ردود مخصصة ومفيدة

### 📄 معالجة الملفات
- **PDF**: قراءة وتحليل ملفات PDF
- **Word**: معالجة مستندات Word
- **Excel**: تحليل جداول البيانات
- **ملفات الكود**: تحليل كود البرمجة
- **ملفات النصوص**: معالجة النصوص بجميع الترميزات

### 🔍 البحث في الويب
- **DuckDuckGo**: محرك بحث آمن وخصوصي
- **بحث متعدد المصادر**: أخبار، أكاديمي، صور، فيديو
- **فلترة ذكية**: نتائج مخصصة حسب الطلب
- **تحليل النتائج**: معالجة ذكية لنتائج البحث

### 🤖 نظام الوكلاء
- **وكيل تحليل الملفات**: معالجة شاملة للملفات
- **وكيل البحث**: إدارة عمليات البحث
- **وكيل التلخيص**: تلخيص المحتوى
- **وكيل إنشاء الملفات**: توليد محتوى جديد
- **وكيل إدارة المهام**: تنسيق المهام المعقدة
- **وكيل تحليل البيانات**: تحليل إحصائي شامل

### 📊 قاعدة البيانات
- **SQLite**: قاعدة بيانات محلية سريعة
- **إدارة المستخدمين**: تتبع النشاط والإعدادات
- **سجل الملفات**: حفظ وتحليل الملفات
- **إدارة المهام**: تتبع حالة المهام
- **الإحصائيات**: تقارير شاملة للنظام

### 🔐 الأمان والإدارة
- **نظام أدمن**: صلاحيات واسعة للمدير
- **حماية البيانات**: تشفير وإدارة آمنة
- **مراقبة النظام**: تتبع الأداء والصحة
- **سجل الأحداث**: تسجيل شامل للعمليات

## 📋 المتطلبات

### Python 3.8+
```bash
python --version
```

### المكتبات المطلوبة
```bash
pip install -r requirements.txt
```

## 🛠️ التثبيت

### 1. استنساخ المشروع
```bash
git clone <repository-url>
cd ai-telegram-bot
```

### 2. تثبيت المكتبات
```bash
pip install -r requirements.txt
```

### 3. إعداد المفاتيح
تأكد من تحديث المفاتيح في `config.py`:
```python
TELEGRAM_TOKEN = "your-telegram-token"
GEMINI_API_KEY = "your-gemini-api-key"
ADMIN_USER_ID = your-admin-user-id
```

### 4. إنشاء المجلدات
```bash
mkdir uploads
mkdir outputs
```

## 🚀 التشغيل

### تشغيل البوت
```bash
python telegram_bot.py
```

### تشغيل في الخلفية
```bash
nohup python telegram_bot.py > bot.log 2>&1 &
```

### تشغيل مع screen
```bash
screen -S telegram-bot
python telegram_bot.py
# Ctrl+A+D للخروج من screen
```

## 📱 استخدام البوت

### الأوامر الأساسية
- `/start` - بدء البوت
- `/help` - عرض المساعدة
- `/menu` - القائمة الرئيسية

### أوامر الأدمن
- `/admin` - لوحة الإدارة
- `/stats` - إحصائيات النظام
- `/users` - إدارة المستخدمين

### الوظائف المتاحة

#### 📄 تحليل الملفات
```
أرسل أي ملف PDF أو Word أو Excel أو ملف كود
```

#### 🔍 البحث في الويب
```
ابحث عن الذكاء الاصطناعي
ابحث عن أخبار التكنولوجيا
```

#### 📝 تلخيص المحتوى
```
لخص هذا النص
لخص مقال عن الذكاء الاصطناعي
```

#### 🤖 إدارة المهام
```
خطط مهمة تطوير تطبيق ويب
أنشئ تقرير عن التكنولوجيا
```

## 🏗️ هيكل المشروع

```
ai-telegram-bot/
├── config.py              # إعدادات النظام
├── database.py            # إدارة قاعدة البيانات
├── gemini_client.py       # عميل Gemini API
├── file_processor.py      # معالج الملفات
├── web_searcher.py        # باحث الويب
├── agents_manager.py      # مدير الوكلاء
├── telegram_bot.py        # البوت الرئيسي
├── requirements.txt       # المكتبات المطلوبة
├── README.md             # دليل الاستخدام
├── uploads/              # مجلد الملفات المرفوعة
└── outputs/              # مجلد الملفات المُنشأة
```

## 🔧 التخصيص

### إضافة وكيل جديد
```python
class NewAgent(Agent):
    def __init__(self, agent_id: str):
        super().__init__(agent_id, "new_type", "اسم الوكيل", ["capability1", "capability2"])
    
    async def execute_task(self, task_data: Dict[str, Any]) -> Dict[str, Any]:
        # منطق تنفيذ المهمة
        pass
```

### تعديل إعدادات Gemini
```python
# في config.py
GEMINI_MODEL = "Gemini-2.0-flash"
GEMINI_MAX_TOKENS = 8192
GEMINI_TEMPERATURE = 0.7
```

### إضافة أنواع ملفات جديدة
```python
# في config.py
SUPPORTED_FORMATS = {
    'new_format': ['.ext1', '.ext2'],
    # ... باقي الأنواع
}
```

## 📊 المراقبة والصيانة

### سجلات النظام
```bash
tail -f bot.log
```

### قاعدة البيانات
```bash
sqlite3 ai_agent_bot.db
.tables
SELECT * FROM users;
```

### إحصائيات النظام
```
/admin -> 📊 الإحصائيات
```

## 🚨 استكشاف الأخطاء

### مشاكل شائعة

#### خطأ في Gemini API
```bash
# تحقق من صحة المفتاح
# تأكد من تفعيل API
# تحقق من حدود الاستخدام
```

#### خطأ في تيليجرام
```bash
# تحقق من صحة التوكن
# تأكد من تفعيل البوت
# تحقق من الصلاحيات
```

#### خطأ في قاعدة البيانات
```bash
# تحقق من صلاحيات الكتابة
# تأكد من وجود مساحة كافية
# تحقق من سلامة الملف
```

### إعادة تشغيل النظام
```bash
# إيقاف البوت
pkill -f telegram_bot.py

# حذف الملفات المؤقتة
rm -rf uploads/*
rm -rf outputs/*

# إعادة التشغيل
python telegram_bot.py
```

## 🔄 التحديثات

### تحديث المكتبات
```bash
pip install --upgrade -r requirements.txt
```

### تحديث البوت
```bash
git pull origin main
pip install --upgrade -r requirements.txt
```

## 📞 الدعم

### تقارير الأخطاء
- تحقق من سجلات النظام
- تأكد من صحة الإعدادات
- اختبر الوظائف الأساسية

### طلبات الميزات
- اقترح ميزات جديدة
- شارك في تطوير المشروع
- أبلغ عن المشاكل

## 📄 الترخيص

هذا المشروع مفتوح المصدر ومتاح للاستخدام الشخصي والتجاري.

## 🤝 المساهمة

نرحب بمساهماتكم! يرجى:
1. Fork المشروع
2. إنشاء فرع للميزة الجديدة
3. إرسال Pull Request
4. شرح التغييرات بوضوح

---

**ملاحظة**: تأكد من الالتزام بسياسات استخدام Gemini API وتيليجرام.